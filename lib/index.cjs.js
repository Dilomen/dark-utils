"use strict";function t(t,e){return Object.prototype.hasOwnProperty.call(t,e)}Object.defineProperty(exports,"__esModule",{value:!0});var e=function(t){return Object.prototype.toString.call(t)},r=function(t){return Array.isArray?Array.isArray(t):"[object Array]"===e(t)};var n=function(t){return"[object Object]"===e(t)};function o(t){return!(!t||!n(t))&&Object.isFrozen(t)}function i(t){return"[object Map]"===toString(t)}function a(t){return"[object Set]"===toString(t)}var c=function(t){if(Array.isArray(t)){for(var e=0,r=new Array(t.length);e<t.length;e++)r[e]=t[e];return r}};var u=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)};var l=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")};var s=function(t){return c(t)||u(t)||l()},f=[];function p(c,u){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],v=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(v&&m(),c!==u&&!o(c)&&!o(u)){var w=e(c)!==e(u),g=!n(c)&&!n(u),b=g&&c!==u,x=i(c)&&i(u)||a(c)&&a(u);if(w||b||x)f.push(h(s(l),u,c));else{if(!r(c)||!r(u)){var A=Object.keys(c),S=Object.keys(u),E=new Set(Array.prototype.concat.call(A,S));return l.push(""),E.forEach((function(e,r){var o=t(c,r),i=t(u,r),a=c[r],m=u[r];l[l.length-1]=r;var v=s(l),w=!n(a)&&!n(m);o&&!i?f.push(d(v,a)):!o&&i?f.push(y(v,m)):o&&i&&(w&&a!==m?f.push(h(v,m,a)):p(a,m,v))})),f}for(var T=c.length,O=u.length,j=Math.min(T,O),L=0;L<j;L++){var M=c[L],P=u[L];if(M!==P){var H=[].concat(s(l),[L]);n(M)||n(P)?p(M,P,H,!1):f.push(h(H,P,M))}}if(T===O)return;T>O?f.push(d(s(l),c.slice(O,T))):f.push(y(s(l),u.slice(T,O)))}}}function d(t,e){return{type:"add",path:t,new:e}}function h(t,e,r){return{type:"replace",path:t,old:e,new:r}}function y(t,e){return{type:"delete",path:t,old:e}}function m(){f=[]}function v(t,e){if(!(t instanceof HTMLElement))throw new Error("请传入正确的DOM元素");return getComputedStyle?getComputedStyle(t).getPropertyValue(e):t.style.stylename}function w(t){if(!(t instanceof HTMLElement))throw new Error("请传入正确的元素");return t.parentNode===document?null:t.parentNode}var g=function(t){if(Array.isArray(t))return t};var b=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var r=[],n=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(n=(a=c.next()).done)&&(r.push(a.value),!e||r.length!==e);n=!0);}catch(t){o=!0,i=t}finally{try{n||null==c.return||c.return()}finally{if(o)throw i}}return r}};var x=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")};var A=function(t,e){return g(t)||b(t,e)||x()},S=function(){return Math.random().toString(36).slice(2)},E=function(t){if(t instanceof Function){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.apply(void 0,r)}return t};exports.addClass=function(t,e){if(!(t instanceof HTMLElement))throw"第一个参数必须是一个HTML元素节点，而不是".concat(t);if(!e)throw"传入的className为空";t.classList.add(e)},exports.blobToFile=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file",r=arguments.length>2?arguments[2]:void 0;if(!r)throw new Error("请传入转化文件的类型type!!!");return new File([t],e,{type:r})},exports.dataURLToBlob=function(t){for(var e=t.split(","),r=atob(e[1]),n=r.length,o=new Uint8Array(n);n--;)o[n]=r.charCodeAt(n);return new Blob([o])},exports.dataURLtoFile=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"file",r=arguments.length>2?arguments[2]:void 0,n=t.split(","),o=atob(n[1]);!r&&(r=n[0].replace("data:","").replace(";base64",""));for(var i=o.length,a=new Uint8Array(i);i--;)a[i]=o.charCodeAt(i);return new File([a],e,{type:r})},exports.debounce=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var n=this,o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];e&&clearTimeout(e),e=setTimeout((function(){t.apply(n,i)}),r)}},exports.deepCopy=function(t){return JSON.parse(JSON.stringify(t))},exports.diff=function(t,e){return p(t,e,[],!0)},exports.fileOrBlobToDataURL=function(t){var e=new FileReader;return e.readAsDataURL(t),new Promise((function(t,r){e.onload=function(e){t(e.target.result)},e.onerror=function(t){r(t)}}))},exports.fileToBlob=function(t){var e=new FileReader;return e.readAsArrayBuffer(t),new Promise((function(r,n){e.onload=function(e){r(new Blob([e.target.result],{type:t.type}))},e.onerror=function(t){n(t)}}))},exports.getElementStyle=function(t,e,r){return r?getComputedStyle(t,r)[e]:t&&t.style&&t.style[e]?t.style[e]:(getComputedStyle(t)||{})[e]},exports.getElementStyleValue=v,exports.getParentElement=w,exports.getParentWithStyle=function(t,e,r){if(!(t instanceof HTMLElement))throw new Error("请传入正确的DOM元素");for(var n=w(t);n;){if([window,document,document.body,document.documentElement].includes(n))return window;for(var o="",i=0;i<e.length;i++)o+=v(n,e[i]);for(var a=0;a<e.length;a++)if(o.includes(r[a]))return n;n=n.parentNode}return window},exports.getScrollHeight=function(t){return!t||[window,document,document.body,document.documentElement].includes(t)?Math.max(document.body.scrollHeight,document.documentElement.scrollHeight):t.scrollHeight},exports.getScrollTop=function(t){return!t||[window,document,document.body,document.documentElement].includes(t)?Math.max(document.body.scrollTop,document.documentElement.scrollTop,window.scrollY):t.scrollTop},exports.hasOwnProperty=t,exports.isArray=r,exports.isDate=function(t){return!(!t||isNaN(Date.parse(t)))},exports.isEmtpyArr=function(t){if(!r(t))throw"This value is not an Array: "+t;return 0===t.length},exports.isEmtpyObj=function(t){if(!n(t))throw"This value is not an Object: "+t;return 0===Object.keys(t).length},exports.isFrozen=o,exports.isMap=i,exports.isMobile=function(){var t=navigator.userAgent;return["iPhone","iPad","Android","Windows Phone","BB10; Touch","BB10; Touch","PlayBook","Nokia"].filter((function(e){return t.indexOf(e)>0})).length>0},exports.isNumber=function(t){return"[object Number]"===e(t)},exports.isObject=n,exports.isSet=a,exports.loasdScript=function(t){return new Promise((function(e,r){var n=document.createElement("script");n.async=!0,n.src=t,n.onload=e,n.onerror=function(e){return r(new Error("Unable to load "+t+": "+e))},document.body.appendChild(n)}))},exports.nextElement=function(t){return t.nextElementSibling||function(){var e=t;do{e=e.nextSibling}while(e&&1!==e.nodeType);return e}()},exports.preventDefault=function(t){if(!t)throw"传参event不存在";t.preventDefault()},exports.queryAnalysis=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e={},r=t?location.hash:location.search;if(!r)return{};if(window.URLSearchParams){var n=new URLSearchParams(r),o=!0,i=!1,a=void 0;try{for(var c,u=n.keys()[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var l=c.value;e[l]=n.get(l)}}catch(t){i=!0,a=t}finally{try{o||null==u.return||u.return()}finally{if(i)throw a}}return e}return(r=(r=r.substring(1,r.length)).split("&")).forEach((function(t){t=t.split("=");var r=A(t,2),n=r[0],o=r[1];e[n]||(e[n]=o)})),e},exports.randomStr=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:11,e=t/11,r="",n=0;n<e;n++)r+=S();return r.slice(0,t)},exports.readClass=function(t,e){if(!(t instanceof HTMLElement))throw"第一个参数必须是一个HTML元素节点，而不是".concat(t);if(!e)throw"传入的className为空";return t.classList.contains(e)},exports.removeClass=function(t,e){if(!(t instanceof HTMLElement))throw"第一个参数必须是一个HTML元素节点，而不是".concat(t);if(!e)throw"传入的className为空";t.classList.remove(e)},exports.replaceClass=function(t,e,r){if(!(t instanceof HTMLElement))throw"第一个参数必须是一个HTML元素节点，而不是".concat(t);if(!e)throw"传入的需要被替换的className为空";if(!r)throw"传入的需要替换的className为空";t.classList.replace(e,r)},exports.stopPropagation=function(t){if(!t)throw"传参event不存在";t.stopPropagation()},exports.throttle=function(t){var e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return function(){for(var n=Date.now(),o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];if(!e)return t.apply(this,i),void(e=n);e+r<=n&&(t.apply(this,i),e=n)}},exports.toString=e,exports.tryFunc=E,exports.tryPromiseFunc=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return new Promise((function(e,n){try{var o=E.apply(void 0,[t].concat(r));o instanceof Promise?o.then((function(t){return e(t)})).catch((function(t){return n(t)})):e(o)}catch(t){n(t)}}))};
